C51 COMPILER V9.59.0.0   MAIN                                                              06/12/2025 09:49:14 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: F:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main
                    -.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <REGX52.H>
   2          #include "Delay.h"
   3          #include "MatrixKey.h"
   4          
   5          unsigned char KeyNum;
   6          unsigned int Password,Password1,Count,Count1,flag,Password_Data,Change_flag,i;
   7          sbit red = P2^0;
   8          sbit green = P2^1;
   9          sbit keyled = P2^4;
  10          
  11          void main()
  12          {
  13   1        red = 0;
  14   1        green = 0;
  15   1        keyled = 0;
  16   1        i = 0;
  17   1        while(1)
  18   1        {
  19   2          KeyNum=MatrixKey();
  20   2          if(KeyNum)
  21   2          {
  22   3            if(flag == 0)
  23   3            {
  24   4              if(KeyNum<=10)                //å¦‚æžœS1~S10æŒ‰é”®æŒ‰ä¸‹ï¼Œè¾“å…¥å¯†ç 
  25   4              {
  26   5                keyled = 1;
  27   5                Delay(100);
  28   5                keyled = 0;
  29   5                if(Count<4)               //å¦‚æžœè¾“å…¥æ¬¡æ•°å°äºŽ4
  30   5                {
  31   6                  Password*=10;           //å¯†ç å·¦ç§»ä¸€ä½
  32   6                  Password+=KeyNum%10;        //èŽ·å–ä¸€ä½å¯†ç 
  33   6                  Count++;  //è®¡æ¬¡åŠ ä¸€
  34   6                  Password_Data++;
  35   6                }
  36   5              }
  37   4              if(KeyNum==11)                //å¦‚æžœS11æŒ‰é”®æŒ‰ä¸‹ï¼Œç¡®è®¤
  38   4              {
  39   5                keyled = 1;
  40   5                Delay(100);
  41   5                keyled = 0;
  42   5                if( Change_flag == 0)           //æ²¡ä¿®æ”¹å¯†ç ä¹‹å‰æ­¤æ ‡å¿—ä½ä¸€ç›´ä¸º0 ä¿®æ”¹å¯†ç ä¹‹åŽæ­¤æ ‡å¿—ä
             -½ä¸º1 è¿›å…¥å¦å¤–ä¸€ä¸ªåˆ¤æ–­
  43   5                {
  44   6                  if(Password==1234)          //å¦‚æžœå¯†ç ç­‰äºŽæ­£ç¡®å¯†ç 
  45   6                  {
  46   7                    Password=0;           //å¯†ç æ¸…é›¶
  47   7                    Count=0;            //è®¡æ¬¡æ¸…é›¶
  48   7                    red = 0;
  49   7                    green = 1;
  50   7                    Delay(2000);          //å»¶æ—¶
  51   7                    Password_Data=0;
  52   7                  }
  53   6                  else                //å¦åˆ™
C51 COMPILER V9.59.0.0   MAIN                                                              06/12/2025 09:49:14 PAGE 2   

  54   6                  {
  55   7                    Password=0;           //å¯†ç æ¸…é›¶
  56   7                    Count=0;            //è®¡æ¬¡æ¸…é›¶
  57   7                    Password_Data=0;
  58   7                    i++;
  59   7                  }
  60   6                }
  61   5                if( Change_flag == 1 )          //ä¿®æ”¹å¯†ç ä¹‹åŽä¸º1 è¿›å…¥æ­¤åˆ¤æ–­
  62   5                {
  63   6                  if(Password==Password1)       //å¦‚æžœå¯†ç ç­‰äºŽæ­£ç¡®å¯†ç 
  64   6                  {
  65   7                    green = 1;
  66   7                    Password=0;           //å¯†ç æ¸…é›¶
  67   7                    Count=0;            //è®¡æ¬¡æ¸…é›¶
  68   7                    Password_Data=0;
  69   7                  }
  70   6                  else                //å¦åˆ™
  71   6                  {
  72   7                    green = 0;
  73   7                    Password=0;           //å¯†ç æ¸…é›¶
  74   7                    Count=0;            //è®¡æ¬¡æ¸…é›¶
  75   7                    Password_Data=0;
  76   7                    i++;
  77   7                  }
  78   6                }
  79   5              }
  80   4              if(KeyNum==12)                //å¦‚æžœS12æŒ‰é”®æŒ‰ä¸‹ï¼Œå–æ¶ˆ
  81   4              {
  82   5                keyled = 1;
  83   5                Delay(100);
  84   5                keyled = 0;
  85   5                Password=0;               //å¯†ç æ¸…é›¶
  86   5                Count=0;                //è®¡æ¬¡æ¸…é›¶
  87   5                Password_Data=0;
  88   5              }
  89   4              if(KeyNum==14)                //ä¿®æ”¹å¯†ç æŒ‰é”®
  90   4              {
  91   5                Password1=0;              //æ–°å¯†ç æ¸…é™¤
  92   5                flag = 2;                 //ä¿®æ”¹å¯†ç æ ‡å¿—ä½
  93   5              }
  94   4            }
  95   3            if(flag == 2)                   //ä¿®æ”¹å¯†ç æ ‡å¿—ä½åˆ¤æ–­
  96   3            {
  97   4              if(KeyNum<=10)                //å¦‚æžœS1~S10æŒ‰é”®æŒ‰ä¸‹ï¼Œè¾“å…¥å¯†ç 
  98   4              {
  99   5                if(Count1<4)              //å¦‚æžœè¾“å…¥æ¬¡æ•°å°äºŽ4
 100   5                {
 101   6                  Password1*=10;            //å¯†ç å·¦ç§»ä¸€ä½
 102   6                  Password1+=KeyNum%10;       //èŽ·å–ä¸€ä½å¯†ç 
 103   6                  Count1++;             //è®¡æ¬¡åŠ 1
 104   6                  Password_Data++;          //æ¸…é™¤*å·æ˜¾ç¤ºä½ç½®
 105   6                }
 106   5              }
 107   4              if(KeyNum==11)                //å¦‚æžœS11æŒ‰é”®æŒ‰ä¸‹ï¼Œç¡®è®¤
 108   4              {
 109   5                keyled = 1;
 110   5                Delay(100);
 111   5                keyled = 0;
 112   5                Count1 = 0;               //è¾“å…¥å¯†ç ä½æ•°æ¸…é™¤
 113   5                flag = 0;                 //è¾“å…¥å¯†ç æ ‡å¿—ä½
 114   5                Password_Data = 0;            //æ¸…é™¤*å·æ˜¾ç¤ºä½ç½®
 115   5                Change_flag = 1;            //æ›´æ–°å¯†ç åˆ¤æ–­æ ‡å¿—ä½
C51 COMPILER V9.59.0.0   MAIN                                                              06/12/2025 09:49:14 PAGE 3   

 116   5              }
 117   4              if(KeyNum==12)                //å¦‚æžœS12æŒ‰é”®æŒ‰ä¸‹ï¼Œå–æ¶ˆ
 118   4              {
 119   5                Password1=0;              //å¯†ç æ¸…é›¶
 120   5                Count1=0;               //è®¡æ¬¡æ¸…é›¶
 121   5                Password_Data=0;            //æ¸…é™¤*å·æ˜¾ç¤ºä½ç½®
 122   5              }
 123   4            }
 124   3            if(KeyNum==13)                  //ä¸Šé”è§£é”
 125   3            {
 126   4              keyled = 1;
 127   4              Delay(100);
 128   4              keyled = 0;
 129   4              flag = !flag;                 //ä¸Šé”è§£é”æ ‡å¿—ä½
 130   4              if(flag==1)
 131   4              {
 132   5                red = 1;
 133   5                green = 0;
 134   5              }
 135   4              else
 136   4              {
 137   5                red = 0;
 138   5              }
 139   4            }
 140   3          }
 141   2        }
 142   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    486    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     17    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
